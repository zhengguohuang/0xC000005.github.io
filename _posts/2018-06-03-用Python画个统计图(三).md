---
layout:     post
title:      ç”¨Pythonç”»ä¸ªç»Ÿè®¡å›¾(ä¸‰)
subtitle:   é¢œå€¼æ˜¯ç¬¬ä¸€ç”Ÿäº§åŠ›ã€æš´è®ºã€‘
date:       2018-06-03
author:     Max
header-img: img/post-bg-rixi16.jpg
catalog: true
tags:
    - Numpy
    - ç§‘å­¦è®¡ç®—
    - Matplotlib
---

## å‰è¨€
æˆ‘æ€•ä¸æ˜¯ä¸€ä¸ªå¤©æ‰å“Ÿçƒ­åŠ›å›¾å’Œç­‰é«˜çº¿å›¾å·²ç»è¶…å‡ºæˆ‘çš„æ•°å­¦é€ è¯£äº†.......
ç²¾å½©ç²¾å½©ï¼Œä¸Šplotçš„å®˜æ–¹ç½‘ç«™å»å·å›¾ï¼Œç»“æœå·æ¥çš„ä»£ç é‡Œé¢çš„å‡½æ•°çœ‹ä¸æ‡‚qwq
è‡ªå­¦çº¿æ€§ä»£æ•°ç»™å®‰æ’ä¸Šäº†

## 0x01 æ•£ç‚¹å›¾
ä¸Šæ¬¡ä¸æ˜¯å†™äº†ä¸€ä¸ªscatteræ ‡è®°äº¤ç‚¹çš„~~ä¼ª~~ç®—æ³•å˜›ï¼Œè¿™ä¸€æ¬¡å¹²è„†ç›´æ¥ç”¨scatteråšå›¾äº†ï¼Œ

é¦–å…ˆç”Ÿæˆä¸€äº›ä¸ªæ•°æ®ï¼Œé¡ºä¾¿æ€ä¹ˆç”Ÿæˆåæ­£ç­‰ä¼šå„¿showå‡ºæ¥å°±å®Œäº‹å’¯
```
#-----ç”Ÿæˆæ•°æ®-----
n = 1024
X = np.random.normal(0,1,n)
Y = np.random.normal(0,1,n)
X:[-0.49406903  2.27838612  0.30397202 ...  0.52583756  0.38971516
 -0.53427642] 
Y:[ 1.6205645  -0.14707366  0.61399138 ... -0.66176285 -1.27567316
 -0.1328321 ]
```
ç„¶åç›´æ¥ä¸Šä¸Šä¸€æ¬¡çš„scatterå‡½æ•°
æŠŠXï¼ŒYä¸¢è¿›å»ï¼Œç„¶åå‡½æ•°å°±ä¼šæ ¹æ®æ¯ä¸€ä¸ªåˆ—è¡¨ä¸­çš„å¤§å°æ¥è‡ªåŠ¨ç”Ÿæˆç‚¹
```
plt.scatter(X,Y,s=75,c=T,alpha=0.5)#å¤§å°ä¸º25.é¢œè‰²ä¸ºtï¼Œcmapé»˜è®¤ï¼Œé€æ˜åº¦50%

#-----ä»å®˜ç½‘ä¸Šå·çš„ï¼Œä¸ºäº†å¥½çœ‹-----
plt.xlim(-1.5, 1.5)
#plt.xticks(())  # ignore xticks
plt.ylim(-1.5, 1.5)
#plt.yticks(())  # ignore yticks
```
è¿™é‡Œè¯´ä¸€ä¸‹cmap = colors mapï¼Œå¯ä»¥é€‰æ‹©ä½ å›¾æ ‡çš„è‰²ç³»ï¼Œæ¯”å¦‚æš–è‰²è°ƒå†·è‰²è°ƒä¹‹ç±»çš„ã€‚


æ¥ç€é‡ç‚¹å°±æ˜¯è®¾ç½®é¢œè‰²ï¼Œä¸Šé¢ä»£ç ä¸­æœ‰ä¸€ä¸ªc=Tï¼Œcolorçš„å€¼ï¼Œç„¶åæˆ‘æ‰¾åˆ°äº†è¿™æ ·ä¸€ä¸ªå‡½æ•°ï¼š
```
T = np.arctan2(Y,X)#è®¾ç½®é¢œè‰²
```
tançš„åå‡½æ•°ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ
https://docs.scipy.org/doc/numpy-1.14.0/reference/generated/numpy.arctan2.html
å®˜æ–¹çš„æ–‡æ¡£é‡Œé¢æ²¡å†™ï¼Œ
ä½†æ˜¯ç”¨ä¸‰è§’å‡½æ•°ç”Ÿæˆé¢œè‰²æ˜¯å“ªä¸€å‡ºï¼Ÿ

æœ€åç»“æœå¦‚ä¸‹ï¼š
![Figure_1.png](https://upload-images.jianshu.io/upload_images/10219317-9bdeff0c11cec9f2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
ä¸çŸ¥é“æˆ‘çš„plotä¸ºä»€ä¹ˆä¸€ç›´æ²¡æœ‰åŠæ³•è®¾ç½®çº¢è‰²å™—å—¤ï¼Œæ‰€ä»¥å°±ç”¨åŸºä½¬ç´«æ¥ä»£æ›¿äº†
```
import numpy as np 
import matplotlib.pyplot as plt

#-----ç”Ÿæˆæ•°æ®-----
n = 1024
X = np.random.normal(0,1,n)
Y = np.random.normal(0,1,n)

T = np.arctan2(Y,X)#è®¾ç½®é¢œè‰²

plt.scatter(X,Y,s=75,c=T,alpha=0.5)#å¤§å°ä¸º25.é¢œè‰²ä¸ºtï¼Œcmapé»˜è®¤ï¼Œé€æ˜åº¦50%

plt.xlim(-1.5, 1.5)
#plt.xticks(())  # ignore xticks
plt.ylim(-1.5, 1.5)
#plt.yticks(())  # ignore yticks

plt.show()
```

## 0x02 Baræ¡å½¢å›¾
ç»ˆäºåˆ°äº†æœ€æœ€æœ€å¸¸ç”¨çš„å›¾æ ‡â€”â€”æ¡å½¢å›¾äº†ï¼Œ
ä¹‹å‰æˆ‘å†™æ¡å½¢å›¾çš„æ—¶å€™ç”¨çš„æ˜¯random.normalç”Ÿæˆçš„æ•°æ®ï¼Œä¸‘å“­äº†ï¼Œ
ç»“æœå·å·ä½œå¼Šå®ç”¨äº†[å‡åŒ€åˆ†å¸ƒ](https://baike.baidu.com/item/%E5%9D%87%E5%8C%80%E5%88%86%E5%B8%83/954451)ï¼Œæ„Ÿè§‰å¥½å¤šäº†ã€‚
```
#-----ç”Ÿæˆæ•°æ®-----
n = 12
np.set_printoptions(precision = 2)#è®¾ç½®ä¸ºå°æ•°ç‚¹åä¸¤ä½
X = np.arange(12)
'''
Y1 = np.random.normal(1,10,n)
Y2 = np.random.normal(1,10,n)
'''
Y1 = (1 - X / float(n)) * np.random.uniform(1, 10, n)
Y2 = (1 - X / float(n)) * np.random.uniform(1, 10, n)
```
ä¸­é—´ç…®é£Ÿæ‰çš„å°±æ˜¯åŸæ¥å†™çš„éšæœºåˆ†å¸ƒï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»æ‰æ³¨é‡Šè¯•ä¸€è¯•ã€ä¸‘çæ¦‚ä¸è´Ÿè´£ã€‘
è®¾ç½®ä¸ºå°æ•°ç‚¹åä¸¤ä½æ˜¯å› ä¸ºåé¢æˆ‘æ‡’å¾—å†™æ ¼å¼è¡¨è¾¾å¼ï¼Œä½†æ˜¯åæ¥è¿˜æ˜¯å†™äº†qwq

æ¥ä¸‹æ¥å°±æ˜¯barå‡½æ•°äº†ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªæ¢—ï¼Œä¹‹å‰æŠŠbaræ‰‹æ®‹æ‰“æˆäº†[bra](https://baike.baidu.com/item/Bra)æ‰”åˆ°è®ºå›ä¸Šé¢äº†ï¼ŒåŒå¿—ä»¬å¯ä»¥æƒ³è±¡ä¸€ä¸‹é‚£ä¸ªç”»é£ğŸ˜‚

### plt.bar(X, Y,facecolor='#9999ff', edgecolor='white')
è®¾ç½®ä¸€ä¸ªé¢œè‰²ä¸ºå°‘å¥³pinkï¼Œè£±æ¡†é¢œè‰²ä¸ºç™½è‰²çš„æ¡å½¢å›¾ï¼Œ
å¦‚ä¸Šï¼Œæˆ‘ä»¬åˆšåˆšç”Ÿæˆäº†ä¸¤ç»„çš„æ•°æ®Y1å’ŒY2ï¼Œæˆ‘ä»¬ç°åœ¨å°±plotä¸€ä¸‹
**å¦‚æœè¦åšæˆå¤šé¡¹æ¡å½¢å›¾çš„è¯ï¼Œè®°å¾—è¦è°ƒæ•´é€æ˜åº¦=50%**

åŸç”Ÿæ•ˆæœå¦‚ä¸‹ï¼š
![Figure_2.png](https://upload-images.jianshu.io/upload_images/10219317-1f6156f902f9df4b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

åŠ ä¸Šé¢œè‰²ä¹‹å~
```
#-----æŸ±çŠ¶å›¾å¼€å§‹-----
plt.bar(X, +Y1,alpha = 0.5,facecolor='#9999ff', edgecolor='white')
plt.bar(X, +Y2,alpha = 0.5,facecolor='#ff9999', edgecolor='white')
```
![Figure_2-1.png](https://upload-images.jianshu.io/upload_images/10219317-b8c93c8a5b8965d2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

é‚£ä¹ˆå¦‚æœæƒ³è¦åšæˆä¸¤è¾¹å‡åŒ€åˆ†å¸ƒçš„æ¡çŠ¶å›¾å‘¢ï¼Ÿ
æ­¤å¤„æ€è€ƒåç§’......


åæ­£xçš„å€¼ä¸å˜å•Šï¼Œè®©Y2=-Y2ä¸ä¹…æˆäº†ï¼Ÿ
![Figure_2-2.png](https://upload-images.jianshu.io/upload_images/10219317-733cd9cbdee64c68.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
é¢œå€¼å°±æ˜¯ç¬¬ä¸€ç”Ÿäº§åŠ›ã€æš´è®ºã€‘

æœ€åæˆ‘ä»¬æ¥æ·»åŠ ä¸€ä¸‹æ•°æ®æ ‡è¯†ï¼Œç”¨çš„æ˜¯ä¸Šä¸€æ¬¡çš„textæ–¹æ³•ï¼Œ
å¦‚ä½•ç¡®å®štextçš„ä½ç½®å‘¢ï¼Ÿ
- xå°±æ˜¯xäº†
- å¦‚æœy>=0ï¼Œé‚£ä¹ˆy+=0.1é˜²æ­¢ä¸æ–¹å—é‡å 
- å¦‚æœy<=0ï¼Œé‚£ä¹ˆy-=0.1é˜²æ­¢ä¸æ–¹å—é‡å 

å› ä¸ºXï¼ŒY1å’ŒY2éƒ½æ˜¯åˆ—è¡¨ï¼Œæ‰€ä»¥è¿­ä»£ä¹‹å‰åŠ¡å¿…å…ˆç”¨zipå‹ä¸€ä¸‹å†è¿­ä»£ï¼š
```
for x,y in zip(X,Y1):
    plt.text(x,y +0.1, '%.2f' % y, ha='center', va='bottom')

for x, y in zip(X, Y2):
    plt.text(x,-y -0.1, '%.2f' % y, ha='center', va='top')
```
ha(è›¤)å’Œvaé‡Œé¢å¡«å†™æ˜¯å¯¹å…¶æ–¹å¼ï¼Œcenteræ˜¯ä¸­å¿ƒå¯¹é½ï¼Œç„¶åbottomæ˜¯ä»¥æ–¹å—çš„ä¸Šéƒ¨ï¼Œtopæ˜¯ä¸‹éƒ¨ã€å•Štopä¸ºä»€ä¹ˆæ˜¯ä¸‹éƒ¨qwqã€‘
![Figure_2-3.png](https://upload-images.jianshu.io/upload_images/10219317-f8c02478b8f56449.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
```
import numpy as np 
import matplotlib.pyplot as plt

#-----ç”Ÿæˆæ•°æ®-----
n = 12
np.set_printoptions(precision = 2)#è®¾ç½®ä¸ºå°æ•°ç‚¹åä¸¤ä½
X = np.arange(12)
'''
Y1 = np.random.normal(1,10,n)
Y2 = np.random.normal(1,10,n)
'''
Y1 = (1 - X / float(n)) * np.random.uniform(1, 10, n)
Y2 = (1 - X / float(n)) * np.random.uniform(1, 10, n)

#-----æŸ±çŠ¶å›¾å¼€å§‹-----
plt.bar(X, +Y1,alpha = 1,facecolor='#9999ff', edgecolor='white')
plt.bar(X, -Y2,alpha = 1,facecolor='#ff9999', edgecolor='white')


for x,y in zip(X,Y1):
    plt.text(x,y +0.1, '%.2f' % y, ha='center', va='bottom')

for x, y in zip(X, Y2):
    plt.text(x,-y -0.1, '%.2f' % y, ha='center', va='top')

plt.show()
```
## 0x03 çƒ­åŠ›å›¾ï¼Ÿã€ç­‰é«˜çº¿å›¾ã€‘
è¿™ä¸ªå·²ç»è¶…è¿‡æˆ‘çš„æ•°å­¦èŒƒç•´äº†æ·¦

é¦–å…ˆå…ˆç”Ÿæˆä¸€ä¸‹æ•°æ®ï¼š
```
#ax = plt.figure().add_subplot(111)
plt.figure()
u = np.linspace(-1,1,100)
x,y = np.meshgrid(u,u)
z = x**2 + y**2
```
ä¹‹å‰é‚£ä¸ªaxæ˜¯è®¾ç½®å›¾ç‰‡å¤§å°çš„ï¼Œè¡Œåˆ—é«˜çš„é—´éš”ä¸º1æ‰€ä»¥æ˜¯111ï¼Œä½†æ˜¯åæ¥æƒ³ä¸€æƒ³å¯ä»¥ä¸ç”¨å•Šå°±åˆ æ‰äº†ã€‚
>meshgridå‡½æ•°
  ç”¨ä¸¤ä¸ªåæ ‡è½´ä¸Šçš„ç‚¹åœ¨å¹³é¢ä¸Šç”»æ ¼ã€‚
  ç”¨æ³•ï¼š
ã€€ã€€[X,Y]=meshgrid(x,y)
ã€€ã€€[X,Y]=meshgrid(x)ä¸[X,Y]=meshgrid(x,x)æ˜¯ç­‰åŒçš„
x=-3:1:3;y=-2:1:2;
ã€€ã€€[X,Y]= meshgrid(x,y);
ã€€ã€€è¿™é‡Œmeshigridï¼ˆxï¼Œyï¼‰çš„ä½œç”¨æ˜¯äº§ç”Ÿä¸€ä¸ªä»¥å‘é‡xä¸ºè¡Œï¼Œå‘é‡yä¸ºåˆ—çš„[çŸ©é˜µ](http://baike.baidu.com/view/10337.htm)ï¼Œè€Œxæ˜¯ä»-3å¼€å§‹åˆ°3ï¼Œæ¯é—´éš”1è®°ä¸‹ä¸€ä¸ªæ•°æ®ï¼Œå¹¶æŠŠè¿™äº›æ•°æ®é›†æˆçŸ©é˜µXï¼›åŒç†yåˆ™æ˜¯ä»-2åˆ°2ï¼Œæ¯é—´éš”1è®°ä¸‹ä¸€ä¸ªæ•°æ®ï¼Œå¹¶é›†æˆçŸ©é˜µYã€‚å³
ã€€ã€€X=
ã€€ã€€-3 -2 -1 0 1 2 3
ã€€ã€€-3 -2 -1 0 1 2 3
ã€€ã€€-3 -2 -1 0 1 2 3
ã€€ã€€-3 -2 -1 0 1 2 3
ã€€ã€€-3 -2 -1 0 1 2 3
ã€€ã€€Y =
ã€€ã€€-2 -2 -2 -2 -2 -2 -2
ã€€ã€€-1 -1 -1 -1 -1 -1 -1
ã€€ã€€0 0 0 0 0 0 0
ã€€ã€€1 1 1 1 1 1 1
ã€€ã€€2 2 2 2 2 2 2
meshgrid(-3:1:3,-2:1:2);å› ä¸º-3:1:3äº§ç”Ÿçš„æ˜¯å«æœ‰7ä¸ªæ•°å­—çš„è¡Œå‘é‡ï¼›-2:1:2äº§ç”Ÿçš„æ˜¯å«æœ‰5ä¸ªæ•°å­—çš„è¡Œå‘é‡ã€‚æ‰€ä»¥è¯¥å‘½ä»¤çš„ç»“æœæ˜¯äº§ç”Ÿ5*7çš„çŸ©é˜µï¼ˆX,Yéƒ½æ˜¯5*7çš„çŸ©é˜µï¼›å…¶ä¸­Xæ˜¯ç”±ç¬¬ä¸€ä¸ªå«7ä¸ªå…ƒç´ çš„è¡Œå‘é‡äº§ç”Ÿï¼ŒYæ˜¯ç”±ç¬¬äºŒä¸ªè¡Œå‘é‡äº§ç”Ÿï¼‰

æ¥ä¸‹æ¥ç›´æ¥ç”»çº¿
### plt.contour(x,y,z,colors = 'black',linewidth=.01)
ä½¿ç”¨xï¼Œyç”Ÿæˆä¸€ä¸ªé¢œè‰²ä¸ºé»‘ï¼Œå®½åº¦ä¸º0.01çš„çƒ­åŠ›çº¿
```
plt.contour(x,y,z,colors = 'black',linewidth=.01)
```
![Figure_3.png](https://upload-images.jianshu.io/upload_images/10219317-04e18f5e4037595b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
æ¥ç€æˆ‘ä»¬ç»™ä»–æ·»åŠ é¢œè‰²
###i = plt.contourf(x,y,z, 8, alpha=.75, cmap=plt.cm.hot)
å®ä¾‹åŒ–ä¸€ä¸ªcontourfå¯¹è±¡ï¼Œæ·»åŠ é¢œè‰²çš„å¯¹è±¡ä¸ºxï¼Œyï¼Œzï¼Œcolors mapä¸ºcmã€matplotibã€‘çš„çƒ­åŠ›å›¾æ ‡å‡†
![Figure_3-1.png](https://upload-images.jianshu.io/upload_images/10219317-ce953e35e252219f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
```
import numpy as np 
import matplotlib.pyplot as plt
from matplotlib import cm

#ax = plt.figure().add_subplot(111)
plt.figure()
u = np.linspace(-1,1,100)
x,y = np.meshgrid(u,u)
z = x**2 + y**2
plt.contour(x,y,z,colors = 'black',linewidth=.01)
i = plt.contourf(x,y,z, 8, alpha=.75, cmap=plt.cm.hot)
#plt.clabel(i, inline=True, fontsize=15)

plt.show()
```

## åè®°
ä¸æ´»å•¦æ²¡å­¦è¿‡å¾®ç§¯åˆ†æ¬ºè´Ÿäººå•Šï¼Œä¸Šé¢çš„çŸ©é˜µå˜åŒ–éƒ½çœ‹ä¸åŠ¨äº†å•Šå•Š
æˆ‘æœç„¶è¿˜æ˜¯ä¸€ä¸ªè’Ÿè’»å•Š

å…¶å®ä¸­é—´è¿˜æœ‰å¥½å¤šå¥½å¤šçš„æ•™ç¨‹çš„ï¼Œä½†æ˜¯æˆ‘è§‰å¾—å¤ªå¤ªå¤ªæµªè´¹ï¼Œè¦ç”¨çš„æ—¶å€™é€ŸæŸ¥ä¸€ä¸‹å°±å¥½äº†æ‰€ä»¥å°±æ²¡å†™ã€æ‰ä¸æ˜¯å› ä¸ºæˆ‘æ‡’å‘¢ã€‘
çœ‹çœ‹ä»€ä¹ˆæ—¶å€™æŠŠå¤šå›¾åˆå¹¶è®²äº†ç„¶åå»å®æˆ˜ä¸€ä¸‹çˆ¬çˆ¬è‚¡ç¥¨ä»€ä¹ˆçš„ã€ä½ ä¸ä¼šç‚’è‚¡å•ŠÎ£(ã£ Â°Ğ” Â°;)ã£ã€‘

**å‚è€ƒèµ„æ–™**
morvanzhou.github.io
[æ•°æ®åˆ é™¤]
ã€ä¸€ä¸ªä¸å­˜åœ¨çš„è§†é¢‘ç½‘ç«™â€”â€”æ²¹å…”ä¸äºŒã€‘
## æœ€åçš„æœ€å
äººå¤šäº†æŒ‚å¹¿å‘Šï¼Œç‚¹å‡»ç»™æˆ‘é’±
å¤ªå›ä¹è®¨å­¦è¯´æˆç«‹äº†
[åšä¸»çš„ç§â™‚äººå£â™‚çº¸ç«™](0xc000005.github.io)
